<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Study Destinations - Modern Education Consult Ltd</title>
  <meta name="description" content="Explore top study destinations including Canada, UK, USA, Australia, Germany, and Malaysia. Expert guidance for international education.">
  <meta name="keywords" content="study abroad destinations, international universities, study in canada, study in uk, study in usa">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
</head>

<body class="destinations-page">
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="header-container container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <h1 class="sitename">Modern Education Consult</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#about">About Us</a></li>
          <li><a href="index.html#services">Services</a></li>
          <li class="dropdown"><a href="#"><span>Destinations</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul id="destinations-dropdown">
              <li><a href="destinations.html">All Destinations</a></li>
              <!-- Destinations will be loaded dynamically -->
            </ul>
          </li>
          <li><a href="index.html#contact">Contact</a></li>
          <li><a href="student-portal.php">Student Portal</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <a class="btn-getstarted" href="index.html#contact">Apply Now</a>
      
    </div>
  </header>

  <main class="main">
    <!-- Page Title -->
    <div class="page-title light-background">
      <div class="container">
        <h1>Study Destinations</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li class="current">Destinations</li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- Destinations Section -->
    <section id="destinations" class="destinations section">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Top Study Destinations</h2>
          <p>Explore world-class universities and educational opportunities across the globe</p>
        </div>

        <!-- Selected Country Details (Hidden by default) -->
        <div id="selected-country-details" class="selected-country-details" style="display: none;">
          <div class="row">
            <div class="col-lg-8">
              <div class="country-detail-content">
                <h3 id="selected-country-name">Selected Country</h3>
                <p id="selected-country-description">Country description will appear here</p>
                <div class="country-features" id="selected-country-features">
                  <!-- Features will be populated by JavaScript -->
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="country-detail-image">
                <img id="selected-country-image" src="" alt="Country Image" class="img-fluid">
              </div>
            </div>
          </div>
          <div class="text-center mt-4">
            <a href="index.html#contact" class="btn btn-primary me-3">Apply Now</a>
            <a href="index.html#contact" class="btn btn-outline-primary">Get Consultation</a>
          </div>
        </div>

        <div class="row g-4">
          <!-- Destinations will be loaded dynamically from database -->
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" class="footer">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">Modern Education Consult</span>
          </a>
          <div class="footer-contact pt-3">
            <p>123 Education Plaza</p>
            <p>Downtown, NY 10001</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+1 (555) 123-4567</span></p>
            <p><strong>Email:</strong> <span>info@moderneducationconsult.com</span></p>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About Us</a></li>
            <li><a href="index.html#services">Services</a></li>
            <li><a href="index.html#contact">Contact</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Destinations</h4>
          <ul>
            <li><a href="destinations.html#canada">Canada</a></li>
            <li><a href="destinations.html#uk">United Kingdom</a></li>
            <li><a href="destinations.html#usa">United States</a></li>
            <li><a href="destinations.html#australia">Australia</a></li>
            <li><a href="destinations.html#germany">Germany</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Resources</h4>
          <ul>
            <li><a href="blog.html">Study Tips</a></li>
            <li><a href="blog.html">Visa Guide</a></li>
            <li><a href="blog.html">Scholarship Info</a></li>
            <li><a href="blog.html">University Rankings</a></li>
            <li><a href="blog.html">Success Stories</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">Modern Education Consult Ltd</strong> <span>All Rights Reserved</span></p>
    </div>
  </footer>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/js/main.js"></script>
  
  <script>
    // Country data - will be loaded from database
    let countryData = {};

    // Load destinations from database and generate HTML
    document.addEventListener('DOMContentLoaded', function() {
      fetch('get-destinations.php?t=' + Date.now()) // Add timestamp to prevent caching
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Convert destinations to countryData format
            data.destinations.forEach(destination => {
              countryData[destination.slug] = {
                name: destination.name,
                description: destination.description,
                image: destination.image_path,
                features: destination.features
              };
            });
            
            // Generate destination cards HTML
            generateDestinationCards(data.destinations);
            
            // Load destinations in navigation dropdown
            loadDestinationsDropdown(data.destinations);
            
            // Handle country selection from URL hash
      const hash = window.location.hash;
      if (hash) {
        const countryId = hash.substring(1);
        showCountryDetails(countryId);
      }
      
      // Add click handlers to country cards
      const countryCards = document.querySelectorAll('.destination-card');
      countryCards.forEach(card => {
        card.addEventListener('click', function() {
          const countryId = this.closest('[id]').id;
          showCountryDetails(countryId);
        });
            });
          } else {
            console.error('API returned error:', data.error);
          }
        })
        .catch(error => {
          console.error('Error loading destinations:', error);
      });
    });
    
    function loadDestinationsDropdown(destinations) {
      const dropdown = document.getElementById('destinations-dropdown');
      if (dropdown) {
        // Keep the "All Destinations" link
        const allDestinationsLink = dropdown.querySelector('li:first-child');
        dropdown.innerHTML = '';
        dropdown.appendChild(allDestinationsLink);
        
        // Add each destination
        destinations.forEach(destination => {
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = `destinations.html#${destination.slug}`;
          a.textContent = destination.name;
          li.appendChild(a);
          dropdown.appendChild(li);
        });
      }
    }
    
    function generateDestinationCards(destinations) {
      const container = document.querySelector('.row.g-4');
      if (!container) {
        console.error('Container .row.g-4 not found!');
        return;
      }
      
      container.innerHTML = '';
      
      destinations.forEach((destination, index) => {
        const delay = (index + 1) * 100;
        const card = document.createElement('div');
        card.className = 'col-lg-4 col-md-6 destination-card';
        card.id = destination.slug;
        card.setAttribute('data-aos', 'fade-up');
        card.setAttribute('data-aos-delay', delay);
        
        card.innerHTML = `
          <div class="destination-image">
            <img src="${destination.image_path}" alt="Study in ${destination.name}" class="img-fluid">
            <div class="destination-overlay">
              <h3>${destination.name}</h3>
            </div>
          </div>
          <div class="destination-content">
            <h4>Study in ${destination.name}</h4>
            <p>${destination.description}</p>
            <ul class="destination-features">
              ${destination.features.map(feature => `<li><i class="bi bi-check-circle"></i> ${feature}</li>`).join('')}
            </ul>
            <a href="index.html#contact" class="btn btn-primary">Learn More</a>
          </div>
        `;
        
        container.appendChild(card);
      });
    }

    function showCountryDetails(countryId) {
      const country = countryData[countryId];
      if (country) {
        const detailsSection = document.getElementById('selected-country-details');
        if (detailsSection) {
          detailsSection.style.display = 'block';
          
          // Populate the details
          document.getElementById('selected-country-name').textContent = country.name;
          document.getElementById('selected-country-description').textContent = country.description;
          document.getElementById('selected-country-image').src = country.image;
          document.getElementById('selected-country-image').alt = country.name;
          
          // Populate features
          const featuresContainer = document.getElementById('selected-country-features');
          featuresContainer.innerHTML = '';
          country.features.forEach(feature => {
            const featureItem = document.createElement('div');
            featureItem.innerHTML = `<i class="bi bi-check-circle"></i> ${feature}`;
            featureItem.style.padding = '0.5rem 0';
            featureItem.style.color = 'var(--text-color)';
            featureItem.style.display = 'flex';
            featureItem.style.alignItems = 'center';
            featuresContainer.appendChild(featureItem);
          });
          
          // Scroll to the details section
          detailsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }
    }
  </script>
</body>
</html>
